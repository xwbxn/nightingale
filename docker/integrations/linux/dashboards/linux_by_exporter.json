{
  "name": "HOST by Node Exporter",
  "tags": "Prometheus Host",
  "ident": "",
  "configs": {
      "var": [
          {
              "name": "node",
              "definition": "label_values(node_cpu_seconds_total,  instance)",
              "selected": "$node",
              "options": [
                  "tt-fc-es01.nj:12345",
                  "tt-fc-es02.nj:12345",
                  "tt-fc-dev01.nj:12345",
                  "10.206.0.13:9100"
              ]
          }
      ],
      "links": [
          {
              "title": "n9e",
              "url": "https://n9e.gitee.io/",
              "targetBlank": true
          },
          {
              "title": "author",
              "url": "http://flashcat.cloud/",
              "targetBlank": true
          }
      ],
      "version": "2.0.0",
      "panels": [
          {
              "id": "3173366d-01a2-420e-8878-75124b0051b6",
              "type": "row",
              "name": "整体概况",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 0,
                  "i": "3173366d-01a2-420e-8878-75124b0051b6"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "refId": "A",
                      "expr": "topk(10,100-(avg by (mode, instance)(rate(node_cpu_seconds_total{mode=\"idle\"}[1m])))*100)",
                      "legend": "{{instance}}"
                  }
              ],
              "name": "cpu使用率 top10",
              "links": [],
              "description": "",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 9,
                  "x": 3,
                  "y": 1,
                  "i": "e1925fc8-cb05-467b-ba82-bb5cb6be7595"
              },
              "id": "e1925fc8-cb05-467b-ba82-bb5cb6be7595"
          },
          {
              "targets": [
                  {
                      "refId": "A",
                      "expr": "topk(10,(node_memory_MemTotal_bytes - node_memory_MemFree_bytes - (node_memory_Cached_bytes + node_memory_Buffers_bytes))/node_memory_MemTotal_bytes*100)",
                      "legend": "{{instance}}"
                  }
              ],
              "name": "内存使用率 top10",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 12,
                  "x": 12,
                  "y": 1,
                  "i": "327b7e4b-6ec1-47e1-8840-d31cf4b5532b"
              },
              "id": "327b7e4b-6ec1-47e1-8840-d31cf4b5532b"
          },
          {
              "targets": [
                  {
                      "refId": "A",
                      "expr": "topk(10,(node_filesystem_avail_bytes{device!~'rootfs', device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"} * 100) / node_filesystem_size_bytes{device!~'rootfs', device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"})",
                      "legend": "{{instance}}-{{mountpoint}}"
                  }
              ],
              "name": "磁盘分区使用率 top10",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 12,
                  "x": 0,
                  "y": 2,
                  "i": "5a9d4a65-3f73-42cc-859e-fc0b82791b59"
              },
              "id": "5a9d4a65-3f73-42cc-859e-fc0b82791b59"
          },
          {
              "targets": [
                  {
                      "refId": "A",
                      "expr": "topk(10,rate(node_disk_io_time_seconds_total[5m]) * 100)",
                      "legend": "{{instance}}-{{device}}"
                  }
              ],
              "name": "设备io util top10",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 12,
                  "x": 12,
                  "y": 2,
                  "i": "fa764e4b-5ca9-45d8-b12e-604f8743f9d9"
              },
              "id": "fa764e4b-5ca9-45d8-b12e-604f8743f9d9"
          },
          {
              "targets": [
                  {
                      "refId": "A",
                      "expr": "count(node_boot_time_seconds)"
                  }
              ],
              "name": "监控机器数",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 40
                  }
              },
              "options": {
                  "standardOptions": {}
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 3,
                  "x": 0,
                  "y": 1,
                  "i": "9a5e3292-b346-4ccf-a793-b83a2f8ac8c5"
              },
              "id": "9a5e3292-b346-4ccf-a793-b83a2f8ac8c5"
          },
          {
              "id": "396bf5e2-f204-4349-8e00-fb9d25ed7e79",
              "type": "row",
              "name": "单机概况",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 5,
                  "i": "396bf5e2-f204-4349-8e00-fb9d25ed7e79"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": "(node_memory_MemTotal_bytes{instance=\"$node\"} - node_memory_MemFree_bytes{instance=\"$node\"} - (node_memory_Cached_bytes{instance=\"$node\"} + node_memory_Buffers_bytes{instance=\"$node\"}))/node_memory_MemTotal_bytes{instance=\"$node\"}*100"
                  }
              ],
              "name": "内存使用率",
              "description": "如果内存使用率超过50%，则需要扩容或者升级配置了",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 25
                  }
              },
              "options": {
                  "valueMappings": [
                      {
                          "type": "range",
                          "result": {
                              "color": "#369903"
                          },
                          "match": {
                              "from": 0,
                              "to": 50
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "from": 50,
                              "to": 100
                          },
                          "result": {
                              "color": "#e3170d"
                          }
                      }
                  ],
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 6,
                  "y": 6,
                  "i": "56dc011d-fc1c-4682-a903-1b778cbff9e8"
              },
              "id": "56dc011d-fc1c-4682-a903-1b778cbff9e8"
          },
          {
              "targets": [
                  {
                      "expr": "(((count(count(node_cpu_seconds_total{instance=\"$node\"}) by (cpu))) - avg(sum by (mode)(rate(node_cpu_seconds_total{mode='idle',instance=\"$node\"}[1m])))) * 100) / count(count(node_cpu_seconds_total{instance=\"$node\"}) by (cpu))"
                  }
              ],
              "name": "CPU使用率",
              "description": "如果cpu使用率超过50%，可以通过top命令查看机器上是否有异常进程，如果没有异常进程，则说明服务需要扩容或者机器需要升级配置了",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 30
                  }
              },
              "options": {
                  "valueMappings": [
                      {
                          "type": "range",
                          "result": {
                              "color": "#369903"
                          },
                          "match": {
                              "from": 0,
                              "to": 50
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "special": 50,
                              "from": 50,
                              "to": 100
                          },
                          "result": {
                              "color": "#b22222"
                          }
                      }
                  ],
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 0,
                  "y": 6,
                  "i": "639f4668-fb33-427d-8ec8-4f11127a1bf3"
              },
              "id": "639f4668-fb33-427d-8ec8-4f11127a1bf3"
          },
          {
              "targets": [
                  {
                      "expr": "max(100 - ((node_filesystem_avail_bytes{instance=\"$node\",} * 100) / node_filesystem_size_bytes{instance=\"$node\"}))",
                      "legend": "{{mountpoint}}"
                  }
              ],
              "name": "磁盘分区使用率最大值",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  },
                  "thresholds": {
                      "steps": [
                          {
                              "value": 90,
                              "color": "#f90101"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 0,
                  "y": 7,
                  "i": "981e2271-2c6c-4410-b3fb-73c35049c11a"
              },
              "id": "981e2271-2c6c-4410-b3fb-73c35049c11a"
          },
          {
              "targets": [
                  {
                      "expr": "node_time_seconds{instance=\"$node\"} - node_boot_time_seconds{instance=\"$node\"}"
                  }
              ],
              "name": "启动时长",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "title": null,
                      "value": 20
                  }
              },
              "options": {
                  "valueMappings": [],
                  "standardOptions": {
                      "util": "humantimeSeconds",
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 3,
                  "x": 21,
                  "y": 6,
                  "i": "534ca690-87e5-4c53-9c8a-d3afe0276bf5"
              },
              "id": "534ca690-87e5-4c53-9c8a-d3afe0276bf5"
          },
          {
              "targets": [
                  {
                      "expr": "(node_memory_SwapTotal_bytes{instance=\"$node\"} - node_memory_SwapFree_bytes{instance=\"$node\"})"
                  }
              ],
              "name": "SWAP内存使用",
              "description": "swap使用过高，会影响系统io性能，如果内存够用但swap使用很高，可以调小swappiness的值",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 30
                  }
              },
              "options": {
                  "valueMappings": [
                      {
                          "type": "range",
                          "result": {
                              "color": "#369903"
                          },
                          "match": {
                              "from": 0,
                              "to": 50
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "special": 50,
                              "from": 50,
                              "to": 80
                          },
                          "result": {
                              "color": "#fb9b2d"
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "from": 80,
                              "to": 100000
                          },
                          "result": {
                              "color": "#d10000"
                          }
                      }
                  ],
                  "standardOptions": {
                      "util": "bytesIEC",
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 3,
                  "x": 12,
                  "y": 6,
                  "i": "69c96540-965b-4e87-9eb7-c24a0c974474"
              },
              "id": "69c96540-965b-4e87-9eb7-c24a0c974474"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_vmstat_oom_kill{instance=\"$node\"}[1m])",
                      "legend": "OOM"
                  }
              ],
              "name": "OOM次数",
              "description": "大于0，说明有进程内存不够用了，需要考虑扩容或升级配置了",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "decimals": 1
                  },
                  "thresholds": {
                      "steps": [
                          {
                              "value": 1,
                              "color": "#f90101"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 18,
                  "y": 7,
                  "i": "39715d51-4d18-4185-8584-68a4d44adf2b"
              },
              "id": "39715d51-4d18-4185-8584-68a4d44adf2b"
          },
          {
              "targets": [
                  {
                      "expr": "max(rate(node_disk_io_time_seconds_total{instance=\"$node\"}[5m]) * 100)",
                      "legend": "{{device}}"
                  }
              ],
              "name": "磁盘设备io util 最大值",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 12,
                  "y": 7,
                  "i": "4a9ea87d-d650-43ff-bf1e-70f44afabace"
              },
              "id": "4a9ea87d-d650-43ff-bf1e-70f44afabace"
          },
          {
              "targets": [
                  {
                      "expr": "node_filefd_allocated{instance=\"$node\"}/node_filefd_maximum{instance=\"$node\"}*100"
                  }
              ],
              "name": "FD使用率",
              "description": "如果超过80%，建议把文件描述符的最大个数调大，或者扩容",
              "custom": {
                  "textMode": "value",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 25
                  }
              },
              "options": {
                  "valueMappings": [
                      {
                          "type": "range",
                          "result": {
                              "color": "#369903"
                          },
                          "match": {
                              "from": 0,
                              "to": 50
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "special": 50,
                              "from": 50,
                              "to": 80
                          },
                          "result": {
                              "color": "#fb9b2d"
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "from": 80,
                              "to": 100
                          },
                          "result": {
                              "color": "#d10000"
                          }
                      }
                  ],
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 3,
                  "x": 15,
                  "y": 6,
                  "i": "14caedd8-a1fd-412b-8c50-e35d3df57a2b"
              },
              "id": "14caedd8-a1fd-412b-8c50-e35d3df57a2b"
          },
          {
              "targets": [
                  {
                      "expr": "max(100 - ((node_filesystem_files_free{instance=\"$node\",mountpoint!~\"/var/lib/.*\",mountpoint!~\"/run/user.*\"} * 100) / node_filesystem_files{instance=\"$node\",mountpoint!~\"/var/lib/.*\",mountpoint!~\"/run/user.*\"}))",
                      "legend": "{{mountpoint}}"
                  }
              ],
              "name": "inode分区使用率最大值",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "percent",
                      "decimals": 1
                  },
                  "thresholds": {
                      "steps": [
                          {
                              "value": 50,
                              "color": "#f90101"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 3,
                  "w": 6,
                  "x": 6,
                  "y": 7,
                  "i": "82310aef-8db6-46bf-96a0-fcad68ae7d9e"
              },
              "id": "82310aef-8db6-46bf-96a0-fcad68ae7d9e"
          },
          {
              "targets": [
                  {
                      "expr": "sum(node_filesystem_device_error{instance=\"$node\",mountpoint!~\"/var/lib/.*\",mountpoint!~\"/run.*\"})",
                      "legend": "{{mountpoint}}"
                  }
              ],
              "name": "写文件错误数总和",
              "custom": {
                  "textMode": "valueAndName",
                  "colorMode": "value",
                  "calc": "lastNotNull",
                  "colSpan": 1,
                  "textSize": {
                      "value": 30
                  }
              },
              "options": {
                  "valueMappings": [
                      {
                          "type": "range",
                          "match": {
                              "from": 0,
                              "to": 0
                          },
                          "result": {
                              "color": "#369903"
                          }
                      },
                      {
                          "type": "range",
                          "match": {
                              "from": 1,
                              "to": 10000
                          },
                          "result": {
                              "color": "#f0310f"
                          }
                      }
                  ],
                  "standardOptions": {
                      "decimals": 1
                  }
              },
              "version": "2.0.0",
              "type": "stat",
              "layout": {
                  "h": 3,
                  "w": 3,
                  "x": 18,
                  "y": 6,
                  "i": "84b04d6b-1f97-47b8-86ff-77e6b1af4f1d"
              },
              "id": "84b04d6b-1f97-47b8-86ff-77e6b1af4f1d"
          },
          {
              "id": "22df4dfe-6f93-4f44-b7ea-254a690922a5",
              "type": "row",
              "name": "系统指标",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 10,
                  "i": "22df4dfe-6f93-4f44-b7ea-254a690922a5"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": "node_procs_running{instance=\"$node\"}",
                      "legend": "{{mountpoint}}"
                  }
              ],
              "name": "进程数",
              "description": "进程数超过2000，可以考虑扩容了",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {
                      "steps": [
                          {
                              "value": 2000,
                              "color": "#ff0000"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 11,
                  "i": "7c4fede9-18b6-4a45-9278-76b6f724716e"
              },
              "id": "7c4fede9-18b6-4a45-9278-76b6f724716e"
          },
          {
              "targets": [
                  {
                      "expr": "node_timex_offset_seconds{instance=\"$node\"}",
                      "legend": "ntp偏移"
                  }
              ],
              "name": "NTP偏移",
              "description": "",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {
                      "steps": []
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 11,
                  "i": "077b1181-00e2-44ce-9295-7528a8b829d5"
              },
              "id": "077b1181-00e2-44ce-9295-7528a8b829d5"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_intr_total{instance=\"$node\"}[1m])",
                      "legend": "Interrupts"
                  },
                  {
                      "expr": "irate(node_context_switches_total{instance=\"$node\"}[1m])",
                      "legend": "context switches"
                  }
              ],
              "name": "上下文切换/中断",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 11,
                  "i": "28f96d86-79ed-4564-84c9-8e8c58d66985"
              },
              "id": "28f96d86-79ed-4564-84c9-8e8c58d66985"
          },
          {
              "targets": [
                  {
                      "expr": "node_entropy_available_bits{instance=\"$node\"}",
                      "legend": "entropy"
                  }
              ],
              "name": "熵池大小",
              "description": "熵池太小 ，程序使用随机函数会阻塞，可以安装 rng-tools 工具增加熵池大小，可参考\n<a href=\"https://codeantenna.com/a/Ab6aMd3NSA\" target=\"_blank\">https://codeantenna.com/a/Ab6aMd3NSA</a> ",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {
                      "steps": [
                          {
                              "value": 100,
                              "color": "#f70202"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 11,
                  "i": "1a16c5ad-1a71-4771-9f50-f3dcc4524f71"
              },
              "id": "1a16c5ad-1a71-4771-9f50-f3dcc4524f71"
          },
          {
              "id": "406a3fd8-52fb-4935-9971-d7a8f37437df",
              "type": "row",
              "name": "CPU详情",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 18,
                  "i": "406a3fd8-52fb-4935-9971-d7a8f37437df"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": " (avg by (mode)(rate(node_cpu_seconds_total{instance=\"$node\",mode!=\"idle\"}[1m])))*100",
                      "legend": "{{mode}}"
                  }
              ],
              "name": "CPU使用率详情",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 19,
                  "i": "bb2b0b33-2f78-428d-8847-d900d0bbdf25"
              },
              "id": "bb2b0b33-2f78-428d-8847-d900d0bbdf25"
          },
          {
              "targets": [
                  {
                      "expr": " (avg by (mode)(rate(node_cpu_seconds_total{instance=\"$node\",mode=\"idle\"}[1m])))*100",
                      "legend": "cpu_idle"
                  }
              ],
              "name": "CPU空闲率",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {
                      "steps": [
                          {
                              "value": 10,
                              "color": "#f90101"
                          }
                      ]
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 19,
                  "i": "28f582ca-dd5c-41a8-8cc8-bcc88f755253"
              },
              "id": "28f582ca-dd5c-41a8-8cc8-bcc88f755253"
          },
          {
              "targets": [
                  {
                      "expr": "node_load1{instance=\"$node\"}",
                      "legend": "load1"
                  },
                  {
                      "expr": "node_load5{instance=\"$node\"}",
                      "legend": "load5"
                  },
                  {
                      "expr": "node_load15{instance=\"$node\"}",
                      "legend": "load15"
                  }
              ],
              "name": "CPU负载",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {
                      "steps": []
                  }
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 19,
                  "i": "51e95b78-940e-4e5e-9cf5-7c8515209de0"
              },
              "id": "51e95b78-940e-4e5e-9cf5-7c8515209de0"
          },
          {
              "id": "f3ab98b2-318b-451b-868e-d967555b7925",
              "type": "row",
              "name": "内存详情",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 26,
                  "i": "f3ab98b2-318b-451b-868e-d967555b7925"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": "node_memory_HugePages_Total{instance=\"$node\"}",
                      "legend": "HugePages_Total"
                  },
                  {
                      "expr": "node_memory_Hugepagesize_bytes{instance=\"$node\"}",
                      "legend": "HugePages_Size"
                  },
                  {
                      "expr": "node_memory_HugePages_Surp{instance=\"$node\"}",
                      "legend": "HugePages_Surp "
                  },
                  {
                      "expr": "node_memory_HugePages_Free{instance=\"$node\"}",
                      "legend": "HugePages_Free"
                  },
                  {
                      "expr": "node_memory_HugePages_Rsvd{instance=\"$node\"}",
                      "legend": "HugePages_Rsvd"
                  },
                  {
                      "expr": "node_memory_AnonHugePages_bytes{instance=\"$node\"}",
                      "legend": "AnonHugePages"
                  },
                  {
                      "expr": "node_memory_Inactive_file_bytes{instance=\"$node\"}",
                      "legend": "Inactive_file"
                  },
                  {
                      "expr": "node_memory_Inactive_anon_bytes{instance=\"$node\"}",
                      "legend": "Inactive_anon"
                  },
                  {
                      "expr": "node_memory_Active_file_bytes{instance=\"$node\"}",
                      "legend": "Active_file"
                  },
                  {
                      "expr": "node_memory_Active_anon_bytes{instance=\"$node\"}",
                      "legend": "Active_anon"
                  },
                  {
                      "expr": "node_memory_Unevictable_bytes{instance=\"$node\"}",
                      "legend": "Unevictable"
                  },
                  {
                      "expr": "node_memory_AnonPages_bytes{instance=\"$node\"}",
                      "legend": "AnonPages"
                  },
                  {
                      "expr": "node_memory_Shmem_bytes{instance=\"$node\"}",
                      "legend": "Shmem"
                  },
                  {
                      "expr": "node_memory_Mapped_bytes{instance=\"$node\"}",
                      "legend": "Mapped"
                  },
                  {
                      "expr": "node_memory_Cached_bytes{instance=\"$node\"} ",
                      "legend": "Cache"
                  },
                  {
                      "expr": "node_memory_SwapCached_bytes{instance=\"$node\"}",
                      "legend": "SwapCache"
                  },
                  {
                      "expr": "node_memory_Mlocked_bytes{instance=\"$node\"}",
                      "legend": "Mlocked"
                  },
                  {
                      "expr": "node_memory_Buffers_bytes{instance=\"$node\"}",
                      "legend": "Buffers"
                  }
              ],
              "name": "用户态内存使用",
              "description": "内存指标可参考链接 [/PROC/MEMINFO之谜](http://linuxperf.com/?p=142) ",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "bytesIEC"
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.35,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 27,
                  "i": "6b084867-c1a4-4e7f-a0d7-5dd24524f82d"
              },
              "id": "6b084867-c1a4-4e7f-a0d7-5dd24524f82d"
          },
          {
              "targets": [
                  {
                      "expr": "node_memory_Slab_bytes{instance=\"$node\"}",
                      "legend": "Slab "
                  },
                  {
                      "expr": "node_memory_SReclaimable_bytes{instance=\"$node\"}",
                      "legend": "SReclaimable "
                  },
                  {
                      "expr": "node_memory_SUnreclaim_bytes{instance=\"$node\"}",
                      "legend": "SUnreclaim "
                  },
                  {
                      "expr": "node_memory_VmallocUsed_bytes{instance=\"$node\"}",
                      "legend": "VmallocUsed"
                  },
                  {
                      "expr": "node_memory_VmallocChunk_bytes{instance=\"$node\"}",
                      "legend": "VmallocChunk"
                  },
                  {
                      "expr": "node_memory_KernelStack_bytes{instance=\"$node\"}",
                      "legend": "KernelStack"
                  },
                  {
                      "expr": "node_memory_Bounce_bytes{instance=\"$node\"}",
                      "legend": "Bounce "
                  }
              ],
              "name": "内核态内存使用",
              "description": "内存指标可参考链接 [/PROC/MEMINFO之谜](http://linuxperf.com/?p=142) ",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "bytesIEC"
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 27,
                  "i": "10b1dde7-7cad-4992-be3f-7e8c8aac8c03"
              },
              "id": "10b1dde7-7cad-4992-be3f-7e8c8aac8c03"
          },
          {
              "targets": [
                  {
                      "expr": "node_memory_DirectMap1G_bytes{instance=\"$node\"}",
                      "legend": "DirectMap1G"
                  },
                  {
                      "expr": "node_memory_DirectMap2M_bytes{instance=\"$node\"}",
                      "legend": "DirectMap2M"
                  },
                  {
                      "expr": "node_memory_DirectMap4k_bytes{instance=\"$node\"}",
                      "legend": "DirectMap4K"
                  }
              ],
              "name": "TLB效率",
              "description": "/proc/meminfo中的DirectMap所统计的不是关于内存的使用，而是一个反映TLB效率的指标。TLB(Translation Lookaside Buffer)是位于CPU上的缓存，用于将内存的虚拟地址翻译成物理地址，由于TLB的大小有限，不能缓存的地址就需要访问内存里的page table来进行翻译，速度慢很多。为了尽可能地将地址放进TLB缓存，新的CPU硬件支持比4k更大的页面从而达到减少地址数量的目的， 比如2MB，4MB，甚至1GB的内存页，视不同的硬件而定。”DirectMap4k”表示映射为4kB的内存数量， “DirectMap2M”表示映射为2MB的内存数量，以此类推。所以DirectMap其实是一个反映TLB效率的指标",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 29,
                  "i": "ea5480e7-ec20-41e5-a007-74c846fae91a"
              },
              "id": "ea5480e7-ec20-41e5-a007-74c846fae91a"
          },
          {
              "targets": [
                  {
                      "expr": "node_memory_NFS_Unstable_bytes{instance=\"$node\"}",
                      "legend": "NFS Unstable"
                  },
                  {
                      "expr": "node_memory_Writeback_bytes{instance=\"$node\"}",
                      "legend": "memory_Writeback"
                  },
                  {
                      "expr": "node_memory_Dirty_bytes{instance=\"$node\"}",
                      "legend": "memory_Dirty"
                  }
              ],
              "name": "dirty page",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 29,
                  "i": "8d31c2aa-38c9-434e-8c93-4cbae4e1bd8d"
              },
              "id": "8d31c2aa-38c9-434e-8c93-4cbae4e1bd8d"
          },
          {
              "id": "88aeb766-214b-43a9-85f3-9ec6368f0da0",
              "type": "row",
              "name": "磁盘详情",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 36,
                  "i": "88aeb766-214b-43a9-85f3-9ec6368f0da0"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": "node_filesystem_avail_bytes{instance=\"$node\",device!~'rootfs', device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - Available"
                  },
                  {
                      "expr": "node_filesystem_free_bytes{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - Free"
                  },
                  {
                      "expr": "node_filesystem_size_bytes{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - Total"
                  }
              ],
              "name": "磁盘空间",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "bytesIEC",
                      "decimals": null
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 37,
                  "i": "d30cf6d8-b40b-4be3-bc97-fa71f788602f"
              },
              "id": "d30cf6d8-b40b-4be3-bc97-fa71f788602f"
          },
          {
              "targets": [
                  {
                      "expr": "node_filesystem_files{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - total"
                  },
                  {
                      "expr": "node_filesystem_files_free{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - free"
                  }
              ],
              "name": "inode",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 37,
                  "i": "985e4bef-dc1e-4b8d-9e46-66edd4cada3c"
              },
              "id": "985e4bef-dc1e-4b8d-9e46-66edd4cada3c"
          },
          {
              "targets": [
                  {
                      "expr": "node_filefd_maximum{instance=\"$node\"}",
                      "legend": "Max open files"
                  },
                  {
                      "expr": "node_filefd_allocated{instance=\"$node\"}",
                      "legend": "Open files"
                  }
              ],
              "name": "fd使用",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 37,
                  "i": "a6ca862a-f704-4ce9-8402-016468657093"
              },
              "id": "a6ca862a-f704-4ce9-8402-016468657093"
          },
          {
              "targets": [
                  {
                      "expr": "node_filesystem_readonly{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - ReadOnly"
                  },
                  {
                      "expr": "node_filesystem_device_error{instance=\"$node\",device!~'rootfs',device!~\"tmpfs\",mountpoint!~\"/var/lib.*\"}",
                      "legend": "{{mountpoint}} - Device error"
                  }
              ],
              "name": "读写错误",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 37,
                  "i": "362bfd2d-2ef2-49a0-b64e-14264495672c"
              },
              "id": "362bfd2d-2ef2-49a0-b64e-14264495672c"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_disk_reads_completed_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}}-reads"
                  },
                  {
                      "expr": "rate(node_disk_writes_completed_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}} - Writes"
                  },
                  {
                      "expr": "rate(node_disk_reads_merged_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}} - Read merged"
                  },
                  {
                      "expr": "rate(node_disk_writes_merged_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}} - Write merged"
                  }
              ],
              "name": "IO/Merged次数",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 39,
                  "i": "b118aac2-217d-4fb3-881a-7926f0e8078e"
              },
              "id": "b118aac2-217d-4fb3-881a-7926f0e8078e"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_disk_read_bytes_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}}-Read bytes"
                  },
                  {
                      "expr": "rate(node_disk_written_bytes_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}} - Written bytes"
                  }
              ],
              "name": "读写数据大小",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "bytesIEC",
                      "decimals": 0
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 39,
                  "i": "b516483d-ea9b-4f4c-9fdc-5ac70fe159d2"
              },
              "id": "b516483d-ea9b-4f4c-9fdc-5ac70fe159d2"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_disk_io_time_seconds_total{instance=\"$node\"}[1m])",
                      "legend": "{{device}}"
                  }
              ],
              "name": "io util",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 39,
                  "i": "1572a36a-d5ac-403d-a5dd-21590bc8f5bf"
              },
              "id": "1572a36a-d5ac-403d-a5dd-21590bc8f5bf"
          },
          {
              "targets": [
                  {
                      "expr": "(rate(node_disk_read_time_seconds_total{instance=\"$node\"}[1m]) / rate(node_disk_reads_completed_total{instance=\"$node\"}[1m])+rate(node_disk_write_time_seconds_total{instance=\"$node\"}[1m]) / rate(node_disk_writes_completed_total{instance=\"$node\"}[1m]))*1000",
                      "legend": "{{device}}"
                  }
              ],
              "name": "io await",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.64,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 39,
                  "i": "c06c49fa-60ce-4982-bfe5-1d5012dc4af1"
              },
              "id": "c06c49fa-60ce-4982-bfe5-1d5012dc4af1"
          },
          {
              "targets": [
                  {
                      "expr": "(rate(node_disk_read_bytes_total{instance=\"$node\"}[1m]) + rate(node_disk_written_bytes_total{instance=\"$node\"}[1m]))\n/\n(rate(node_disk_reads_completed_total{instance=\"$node\"}[1m]) + rate(node_disk_writes_completed_total{instance=\"$node\"}[1m]))",
                      "legend": "avgrq-sz"
                  }
              ],
              "name": "avgrq-sz",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 0,
                  "y": 41,
                  "i": "1c19b6ae-95fb-4358-bd01-bb0beec8d619"
              },
              "id": "1c19b6ae-95fb-4358-bd01-bb0beec8d619"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_disk_io_time_weighted_seconds_total{instance=\"$node\"}[1m])\n",
                      "legend": "{{device}}"
                  }
              ],
              "name": "avgqu-sz",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 12,
                  "x": 12,
                  "y": 41,
                  "i": "8da1e948-283d-4e68-990f-8e6c9af22d05"
              },
              "id": "8da1e948-283d-4e68-990f-8e6c9af22d05"
          },
          {
              "id": "8fb70dca-4296-45a6-8dd3-770fc898ee65",
              "type": "row",
              "name": "网络详情",
              "layout": {
                  "h": 1,
                  "w": 24,
                  "x": 0,
                  "y": 48,
                  "i": "8fb70dca-4296-45a6-8dd3-770fc898ee65"
              },
              "collapsed": true
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_network_receive_bytes_total{instance=\"$node\",device=~\"e.*\"}[1m])*8",
                      "legend": "{{device}} - in"
                  },
                  {
                      "expr": "rate(node_network_transmit_bytes_total{instance=\"$node\",device=~\"e.*\"}[1m])*8",
                      "legend": "{{device}} - out"
                  }
              ],
              "name": "出入流量大小",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {
                      "util": "bytesIEC"
                  },
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 0,
                  "y": 49,
                  "i": "ae5d7236-c89f-4fb3-ae5c-e70cb03cb168"
              },
              "id": "ae5d7236-c89f-4fb3-ae5c-e70cb03cb168"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_network_receive_packets_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - in"
                  },
                  {
                      "expr": "rate(node_network_transmit_packets_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - out"
                  }
              ],
              "name": "packets",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 6,
                  "y": 49,
                  "i": "9cc72d79-c0bd-440d-849a-bf8af74a2b6c"
              },
              "id": "9cc72d79-c0bd-440d-849a-bf8af74a2b6c"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_network_receive_errs_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - in"
                  },
                  {
                      "expr": "rate(node_network_transmit_errs_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - out"
                  }
              ],
              "name": "error",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 12,
                  "y": 49,
                  "i": "8b54d503-daa0-4bea-bb00-d9c723123efd"
              },
              "id": "8b54d503-daa0-4bea-bb00-d9c723123efd"
          },
          {
              "targets": [
                  {
                      "expr": "rate(node_network_receive_drop_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - in"
                  },
                  {
                      "expr": "rate(node_network_transmit_drop_total{instance=\"$node\",device=~\"e.*\"}[1m])",
                      "legend": "{{device}} - out"
                  }
              ],
              "name": "drop",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 6,
                  "x": 18,
                  "y": 49,
                  "i": "293fc82f-1e25-412b-93cc-f8daceb61bd9"
              },
              "id": "293fc82f-1e25-412b-93cc-f8daceb61bd9"
          },
          {
              "targets": [
                  {
                      "expr": "node_nf_conntrack_entries{instance=\"$node\"}",
                      "legend": "NF conntrack entries"
                  },
                  {
                      "expr": "node_nf_conntrack_entries_limit{instance=\"$node\"}",
                      "legend": "NF conntrack limit"
                  }
              ],
              "name": "nf_conntrack",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 0,
                  "y": 51,
                  "i": "8fe595ad-f393-4d1c-a523-888071ca41b9"
              },
              "id": "8fe595ad-f393-4d1c-a523-888071ca41b9"
          },
          {
              "targets": [
                  {
                      "expr": "node_sockstat_TCP_alloc{instance=\"$node\"}",
                      "legend": "TCP_alloc"
                  },
                  {
                      "expr": "node_sockstat_TCP_inuse{instance=\"$node\"}",
                      "legend": "TCP_inuse"
                  },
                  {
                      "expr": "node_sockstat_TCP_orphan{instance=\"$node\"}",
                      "legend": "TCP_orphan"
                  },
                  {
                      "expr": "node_sockstat_TCP_tw{instance=\"$node\"}",
                      "legend": "TCP_tw"
                  },
                  {
                      "expr": "node_netstat_Tcp_CurrEstab{instance=\"$node\"}",
                      "legend": "TCP_CurrEstab"
                  }
              ],
              "name": "tcp",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "desc"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.27,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 8,
                  "y": 51,
                  "i": "64b815bc-b041-40f3-aaf2-21861836ab1d"
              },
              "id": "64b815bc-b041-40f3-aaf2-21861836ab1d"
          },
          {
              "targets": [
                  {
                      "expr": "node_sockstat_sockets_used{instance=\"$node\"}",
                      "legend": "Sockets_used"
                  }
              ],
              "name": "socket",
              "options": {
                  "tooltip": {
                      "mode": "all",
                      "sort": "none"
                  },
                  "legend": {
                      "displayMode": "hidden"
                  },
                  "standardOptions": {},
                  "thresholds": {}
              },
              "custom": {
                  "drawStyle": "lines",
                  "lineInterpolation": "smooth",
                  "fillOpacity": 0.5,
                  "stack": "off"
              },
              "version": "2.0.0",
              "type": "timeseries",
              "layout": {
                  "h": 7,
                  "w": 8,
                  "x": 16,
                  "y": 51,
                  "i": "d089d8a2-dbbf-4dbf-89a8-b463522b1c1d"
              },
              "id": "d089d8a2-dbbf-4dbf-89a8-b463522b1c1d"
          }
      ]
  }
}