import"./index.16c626da.js";import{S as a}from"./element-plus.59d69a7b.js";import{aa as s,ab as e,j as l,A as i,o as t,a3 as n,F as r,i as c,a4 as o,a5 as d,t as u,a6 as v}from"./vue.3e76d0e4.js";s("data-v-0e2a4a82");const m=["onClick"],p={class:"left"},h={class:"title"},g={class:"content"},f=["onClick"],y=o("div",{class:"time"},[o("span"),o("span"),o("span"),o("span")],-1),k=["src"];e();const w={props:["alarmList","isShow"],emits:["changeAlram"],setup(s,{emit:e}){const w=s;l([]);const x=l(null),b=l(null),j=l({}),C=l([]);return i((()=>w.alarmList),((a,s)=>{C.value=[],s&&((a,s)=>{var e,l;if((null==(e=s[s.length-1])?void 0:e.id)!==(null==(l=a[a.length-1])?void 0:l.id)){const s=a[a.length-1].severity;0==s?b.value.src="/prod-api/assets/alarm-0.4ae757f6.mp3":1==s?b.value.src="/prod-api/assets/alarm-1.f96eabae.mp3":2==s&&(b.value.src="/prod-api/assets/alarm-2.dfceca58.mp3"),setTimeout((()=>{b.value.play()}),500)}})(a,s),a.forEach((a=>{a.severity<3&&C.value.push(a)})),setTimeout((()=>{(()=>{const a=document.getElementById("alarmList");a&&(a.scrollTop=a.scrollHeight)})()}),500)}),{deep:!0,immediate:!0}),(l,i)=>(t(),n("div",{class:"list",id:"alarmList",style:v({"max-height":s.isShow?"calc(100vh - 470px)":"calc(100vh - 260px)"})},[(t(!0),n(r,null,c(C.value,(s=>(t(),n("div",{key:s.id,onClick:a=>{return e("changeAlram",l=s),void(j.value=l);var l}},[o("div",{class:d({item:!0,[`alarm${s.severity}`]:!0,"item-select":j.value.id===s.id})},[o("div",p,[o("div",{class:d(`icon alarm${s.severity}-icon`)},null,2),o("div",h,u(s.asset_name),1)]),o("div",g,[o("h5",null,u(s.name),1),o("span",null,u(s.rule)+": "+u(s.trigger_value),1)]),o("div",{class:"btn",onClick:e=>{var l;(l=s).url?window.open(l.url):a.warning("此告警没有详情路径")}},null,8,f),y],2)],8,m)))),128)),o("audio",{ref:b,src:x.value,controls:"",class:"audio"},null,8,k)],4))},__scopeId:"data-v-0e2a4a82"};export{w as default};
