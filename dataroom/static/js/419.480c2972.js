(self["webpackChunk_gcpaas_data_room_ui"]=self["webpackChunk_gcpaas_data_room_ui"]||[]).push([[419],{25380:function(_){function e(_){var e=new Error("Cannot find module '"+_+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=25380,_.exports=e},18536:function(_,e,t){"use strict";t.r(e),t.d(e,{default:function(){return u}});var o=function(){var _=this,e=_.$createElement,t=_._self._c||e;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:_.loading,expression:"loading"}],staticClass:"bs-remote-preview",attrs:{"element-loading-text":"远程组件加载中..."}},[t("div",{staticClass:"remote-preview-inner-wrap"},[t(_.remoteComponent,{tag:"component",attrs:{config:_.config}})],1)])},n=[],s=t(54313),r=s.Z,i=t(1001),a=(0,i.Z)(r,o,n,!1,null,"99da8528",null),u=a.exports},54313:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95082),D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(50124),D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(89584),D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48534),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64043),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(57267),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(56532),core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace_all_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(34338),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25728),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(60228),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(49693),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(47522),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(34284),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(38320),core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_esnext_string_replace_all_js__WEBPACK_IMPORTED_MODULE_13__),remote_vue_loader__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(95474),echarts__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(43012),_antv_g2plot__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(8727),data_room_ui_js_api_bigScreenApi__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(26816),data_room_ui_RemoteComponents_remoteComponentsList__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(46889);__webpack_exports__.Z={name:"BsComponentPreview",props:{vueContent:{type:String,default:""},settingContent:{type:String,default:""}},computed:{config:{get:function get(){var _this$settingContentI,_settingContent,option={},setting=[],title="",data=[],optionHandler="",g2Plots=_antv_g2plot__WEBPACK_IMPORTED_MODULE_16__,echarts=echarts__WEBPACK_IMPORTED_MODULE_15__,settingContent=null===(_this$settingContentI=this.settingContentInner)||void 0===_this$settingContentI?void 0:_this$settingContentI.replaceAll("const ","");return settingContent=null===(_settingContent=settingContent)||void 0===_settingContent?void 0:_settingContent.replace(/export default[\s\S]*/,""),eval(settingContent),{title:title,option:option,setting:setting,echarts:echarts,g2Plots:g2Plots,optionHandler:optionHandler}},set:function(_){}}},watch:{settingContentInner:function(){this.getRemoteComponent()},vueContentInner:function(){this.getRemoteComponent()},vueContent:function(_){this.vueContentInner=_},settingContent:function(_){this.settingContentInner=_}},data:function(){var _;return{loading:!1,remoteComponent:null,vueContentInner:this.vueContent,settingContentInner:null===(_=this.settingContent)||void 0===_?void 0:_.replaceAll("const ","")}},created:function(){this.viewComponent()},methods:{viewComponent:function(){var _=this;return(0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.Z)().mark((function e(){var t,o,n,s,r,i,a,u,c,l;return(0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_1__.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===(t=_.$route.query)||void 0===t||!t.code){e.next=9;break}return e.next=3,(0,data_room_ui_js_api_bigScreenApi__WEBPACK_IMPORTED_MODULE_17__.Qn)(null===(n=_.$route.query)||void 0===n?void 0:n.code);case 3:s=e.sent,_.vueContentInner=s.vueContent,_.settingContentInner=s.settingContent,_.config=_.dataFormatting(_.config),_.remoteComponent=(0,remote_vue_loader__WEBPACK_IMPORTED_MODULE_14__.Z)("data:text/plain,"+encodeURIComponent(_.vueContentInner)),_.loading=!1;case 9:null!==(o=_.$route.query)&&void 0!==o&&o.dirName&&(a=null===(r=_.$route.query)||void 0===r?void 0:r.dirName,u=[].concat((0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(data_room_ui_RemoteComponents_remoteComponentsList__WEBPACK_IMPORTED_MODULE_18__.ZP),(0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,data_room_ui_RemoteComponents_remoteComponentsList__WEBPACK_IMPORTED_MODULE_18__.uz)())),c=null===u||void 0===u?void 0:u.find((function(_){return _.customize.vueSysComponentDirName===a})),_.config.option=null===c||void 0===c?void 0:c.option,_.config.title=null===c||void 0===c?void 0:c.title,l=null===(i=c.customize)||void 0===i?void 0:i.vueFile,_.remoteComponent=l,_.loading=!1);case 10:case"end":return e.stop()}}),e)})))()},getRemoteComponent:function(){this.loading=!0,this.config=this.dataFormatting(this.config,{success:!1}),this.remoteComponent=(0,remote_vue_loader__WEBPACK_IMPORTED_MODULE_14__.Z)("data:text/plain,"+encodeURIComponent(this.vueContentInner)),this.loading=!1},transformSettingToOption:function(_,e){var t=null;return _.setting.forEach((function(o){if(o.optionField){var n=o.optionField.split(".");t=_.option,n.forEach((function(_,s){s===n.length-1?(o.tabName===e&&"data"===e&&o.value||o.tabName===e&&"custom"===e)&&(t[_]=o.value):(t[_]||(t[_]={}),t=t[_])}))}})),_},dataFormatting:function dataFormatting(config,data){var _data;if(null!==(_data=data)&&void 0!==_data&&_data.success){if(data=data.data,config=this.transformSettingToOption(config,"data"),config.dataHandler)try{eval(config.dataHandler)}catch(e){console.error(e)}config.option.data=data}else{var _this$plotList,_this$plotList$find,_this$plotList$find$o;config.option.data=(null===(_this$plotList=this.plotList)||void 0===_this$plotList||null===(_this$plotList$find=_this$plotList.find((function(_){return _.name===config.name})))||void 0===_this$plotList$find||null===(_this$plotList$find$o=_this$plotList$find.option)||void 0===_this$plotList$find$o?void 0:_this$plotList$find$o.data)||config.option.data}return config},changeStyle:function changeStyle(config){if(config=(0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)((0,D_Documents_Sources_DataRoom_data_room_ui_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__.Z)({},this.config),config),config=this.transformSettingToOption(config,"custom"),this.config.optionHandler)try{eval(this.config.optionHandler)}catch(e){console.error(e)}return this.chart&&this.chart.update(config.option),this.changeChartConfig(config),config}}}},68629:function(){}}]);