"use strict";(self["webpackChunk_gcpaas_data_room_ui"]=self["webpackChunk_gcpaas_data_room_ui"]||[]).push([[487],{65864:function(e,t,a){a.d(t,{Z:function(){return c}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"bs-dialog-wrap bs-el-dialog",attrs:{width:"700px",title:"提示",visible:e.checkDatasourceVisible,"append-to-body":!0,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.checkDatasourceVisible=t}}},[a("div",{staticClass:"text-style"},e._l(e.reasonList,(function(t,r){return a("div",{key:r,staticClass:"item"},[e.reasonList.length>1?a("span",[e._v(" "+e._s(r+1)+"、")]):e._e(),e._v(e._s(t)+" ")])})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleClose}},[e._v(" 确定 ")])],1)])},o=[],s={props:{reasonList:{type:Array,default:function(){return[]}}},data:function(){return{checkDatasourceVisible:!1}},methods:{handleClose:function(){this.checkDatasourceVisible=!1}}},n=s,i=a(1001),l=(0,i.Z)(n,r,o,!1,null,"ea4de222",null),c=l.exports},7487:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});a(34284);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bs-container"},[a("div",{staticClass:"inner-container"},[a("el-form",{staticClass:"filter-container",attrs:{inline:!0}},[a("el-form-item",{staticClass:"filter-input filter-item"},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:"请输入数据源名称",clearable:"",maxlength:"200"},on:{clear:e.searchData},model:{value:e.searchForm.sourceName,callback:function(t){e.$set(e.searchForm,"sourceName",t)},expression:"searchForm.sourceName"}})],1),a("el-form-item",{staticClass:"filter-item"},[a("el-button",{attrs:{type:"primary",loading:e.searchLoading,icon:"el-icon-search"},on:{click:e.searchData}},[e._v(" 查询 ")])],1),a("el-form-item",{staticClass:"filter-item"},[a("el-button",{staticClass:"bs-el-button-default",on:{click:e.addSource}},[e._v(" 新增 ")])],1)],1),a("div",{staticClass:"bs-table-box"},[a("el-table",{directives:[{name:"table",rawName:"v-table"},{name:"loading",rawName:"v-loading",value:e.searchLoading,expression:"searchLoading"}],staticClass:"bs-el-table bs-scrollbar",attrs:{height:"0","element-loading-text":e.loadingText,data:e.dataSourceList},on:{"current-change":e.handleCurrentChange}},[a("el-empty",{attrs:{slot:"empty"},slot:"empty"}),a("el-table-column",{attrs:{prop:"sourceName",label:"数据源名称",align:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isDialog?a("el-radio",{attrs:{label:t.row},model:{value:e.curRow,callback:function(t){e.curRow=t},expression:"curRow"}},[e._v(" "+e._s(t.row.sourceName)+" ")]):a("span",[e._v(e._s(t.row.sourceName))])]}}])}),a("el-table-column",{attrs:{prop:"sourceType",label:"类型",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"bs-el-button-default",attrs:{loading:e.testBtnLoading.includes(t.row.id)},on:{click:function(a){return e.sourceLinkTest(t.row)}}},[e._v(" 测试 ")]),a("el-button",{staticClass:"bs-el-button-default",attrs:{disabled:1==t.row.editable&&!e.appCode},on:{click:function(a){return e.viewSource(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{staticClass:"bs-el-button-default",attrs:{loading:t.row.loading,disabled:1==t.row.editable&&!e.appCode},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("div",{staticClass:"bs-pagination"},[a("el-pagination",{staticClass:"bs-el-pagination",attrs:{"popper-class":"bs-el-pagination","current-page":e.current,"page-sizes":[10,20,50,100],"page-size":e.size,total:e.totalCount,background:"","prev-text":"上一页","next-text":"下一页",layout:"total, prev, pager, next,sizes"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)],1),a("set-datasource",{ref:"setDatasource",attrs:{"app-code":e.appCode},on:{refreshTable:e.init}}),a("checkDatasource",{ref:"checkDatasource",attrs:{"reason-list":e.reasonList}})],1)},o=[],s=(a(49693),a(60228),a(47522),a(70560),a(62506),a(97195),a(46761)),n=a(16669),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"bs-dialog-wrap bs-el-dialog",attrs:{width:"700px",title:e.title,visible:e.setDatasourceVisible,"append-to-body":!0,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.setDatasourceVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.linkLoading,expression:"linkLoading"}],staticStyle:{"padding-right":"80px"},attrs:{"element-loading-text":"正在测试连接..."}},[a("el-form",{ref:"dataForm",staticClass:"bs-el-form",attrs:{model:e.dataForm,rules:e.dataForm.id?e.updateRules:e.rules,size:"small","label-position":"right","label-width":e.dataForm.advanceSettingFlag?"200px":"150px"}},[a("el-form-item",{attrs:{label:"类型",prop:"sourceType"}},[a("el-select",{staticClass:"bs-el-select",attrs:{placeholder:"请选择类型","popper-class":"bs-el-select",clearable:"",filterable:""},on:{change:e.sourceTypeChange},model:{value:e.dataForm.sourceType,callback:function(t){e.$set(e.dataForm,"sourceType",t)},expression:"dataForm.sourceType"}},e._l(e.sourceTypeList,(function(e){return a("el-option",{key:e.code,attrs:{label:e.label,value:e.code}})})),1)],1),a("el-form-item",{attrs:{label:"数据源名称",prop:"sourceName"}},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:"请输入数据源名称",maxlength:"200"},model:{value:e.dataForm.sourceName,callback:function(t){e.$set(e.dataForm,"sourceName",t)},expression:"dataForm.sourceName"}})],1),a("el-form-item",{attrs:{label:"JDBC URL",prop:"url"}},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:"请输入JDBC URL",type:"textarea",rows:"4"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.textareaKeydown(t)}},model:{value:e.dataForm.url,callback:function(t){e.$set(e.dataForm,"url",t)},expression:"dataForm.url"}})],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:"请输入用户名"},model:{value:e.dataForm.username,callback:function(t){e.$set(e.dataForm,"username",t)},expression:"dataForm.username"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:e.dataForm.id?"请输入密码，不输入代表不更新":"请输入密码",type:"password","show-password":""},model:{value:e.dataForm.password,callback:function(t){e.$set(e.dataForm,"password",t)},expression:"dataForm.password"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{staticClass:"bs-el-input",attrs:{placeholder:"请输入备注",type:"textarea",rows:"4",maxlength:"200"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.textareaKeydown(t)}},model:{value:e.dataForm.remark,callback:function(t){e.$set(e.dataForm,"remark",t)},expression:"dataForm.remark"}})],1),e.dataForm.advanceSettingFlag?[a("el-form-item",{attrs:{label:"初始化连接数"}},[a("el-input",{model:{value:e.dataForm.initConnNum,callback:function(t){e.$set(e.dataForm,"initConnNum",t)},expression:"dataForm.initConnNum"}})],1),a("el-form-item",{attrs:{label:"最大活动连接数"}},[a("el-input",{model:{value:e.dataForm.maxActiveConnNum,callback:function(t){e.$set(e.dataForm,"maxActiveConnNum",t)},expression:"dataForm.maxActiveConnNum"}})],1),a("el-form-item",{attrs:{label:"最大空闲连接数"}},[a("el-input",{model:{value:e.dataForm.maxIdleConnNum,callback:function(t){e.$set(e.dataForm,"maxIdleConnNum",t)},expression:"dataForm.maxIdleConnNum"}})],1),a("el-form-item",{attrs:{label:"最小空闲连接数"}},[a("el-input",{model:{value:e.dataForm.minIdleConnNum,callback:function(t){e.$set(e.dataForm,"minIdleConnNum",t)},expression:"dataForm.minIdleConnNum"}})],1),a("el-form-item",{attrs:{label:"最大等待时间 (ms)"}},[a("el-input",{model:{value:e.dataForm.maxWaitConnNum,callback:function(t){e.$set(e.dataForm,"maxWaitConnNum",t)},expression:"dataForm.maxWaitConnNum"}})],1),a("el-form-item",{attrs:{label:"SQL验证查询"}},[a("el-input",{attrs:{type:"text"},model:{value:e.dataForm.sqlCheck,callback:function(t){e.$set(e.dataForm,"sqlCheck",t)},expression:"dataForm.sqlCheck"}})],1),a("el-form-item",{attrs:{label:"获取连接前校验"}},[a("el-select",{attrs:{clearable:""},model:{value:e.dataForm.getconnCheckFlag,callback:function(t){e.$set(e.dataForm,"getconnCheckFlag",t)},expression:"dataForm.getconnCheckFlag"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1),a("el-form-item",{attrs:{label:"归还连接前校验"}},[a("el-select",{attrs:{clearable:""},model:{value:e.dataForm.returnCheckFlag,callback:function(t){e.$set(e.dataForm,"returnCheckFlag",t)},expression:"dataForm.returnCheckFlag"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1),a("el-form-item",{attrs:{label:"开启空闲回收器校验"}},[a("el-select",{attrs:{clearable:""},model:{value:e.dataForm.startIdleCheckFlag,callback:function(t){e.$set(e.dataForm,"startIdleCheckFlag",t)},expression:"dataForm.startIdleCheckFlag"}},[a("el-option",{attrs:{label:"是",value:1}}),a("el-option",{attrs:{label:"否",value:0}})],1)],1),a("el-form-item",{attrs:{label:"空闲连接回收器休眠时间 (ms)"}},[a("el-input",{model:{value:e.dataForm.idleConnDormantTime,callback:function(t){e.$set(e.dataForm,"idleConnDormantTime",t)},expression:"dataForm.idleConnDormantTime"}})],1),a("el-form-item",{attrs:{label:"空闲连接回收检查数"}},[a("el-input",{model:{value:e.dataForm.idleConnCheckNum,callback:function(t){e.$set(e.dataForm,"idleConnCheckNum",t)},expression:"dataForm.idleConnCheckNum"}})],1),a("el-form-item",{attrs:{label:"保持空闲最小时间值 (s)"}},[a("el-input",{model:{value:e.dataForm.keepIdleMinTime,callback:function(t){e.$set(e.dataForm,"keepIdleMinTime",t)},expression:"dataForm.keepIdleMinTime"}})],1)]:e._e()],2)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.sourceLinkCheck}},[e._v(" 测试 ")]),a("el-button",{staticClass:"bs-el-button-default",on:{click:e.handleClose}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v(" 确定 ")])],1)])},l=[],c=a(95082),u=(a(25728),a(21057),a(68932),{props:{appCode:{type:String,default:""}},data:function(){return{setDatasourceVisible:!1,title:"",linkLoading:!1,dataForm:{id:"",sourceName:"",sourceType:"mysql",driverClassName:"com.mysql.jdbc.Driver",username:"",password:"",url:"jdbc:mysql://localhost:3306/db_name?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf-8&useSSL=false&useOldAliasMetadataBehavior=true",remark:""},rules:{sourceType:[{required:!0,message:"请选择数据源类型",trigger:"blur"}],sourceName:[{required:!0,message:"请输入数据源名称",trigger:"blur"},{validator:this.validateSourceName,trigger:"blur"}],driverClassName:[{required:!0,message:"请选择连接驱动",trigger:"blur"}],database:[{required:!0,message:"请输入数据库名称",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"数据库名称不能包含汉字"}],host:[{required:!0,message:"请输入主机号",trigger:"blur"},{pattern:/((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))/,message:"主机号格式有误"}],port:[{required:!0,message:"请输入端口",trigger:"blur"},{pattern:/^[0-9]*$/,message:"端口号只能为数字"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"用户名不能包含汉字"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],url:[{required:!0,message:"请输入连接url",trigger:"blur"}],coding:[{required:!0,message:"请选择编码",trigger:"blur"}]},updateRules:{sourceType:[{required:!0,message:"请选择数据源类型",trigger:"blur"}],sourceName:[{required:!0,message:"请输入数据源名称",trigger:"blur"},{validator:this.validateSourceName,trigger:"blur"}],driverClassName:[{required:!0,message:"请选择连接驱动",trigger:"blur"}],database:[{required:!0,message:"请输入数据库名称",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"数据库名称不能包含汉字"}],url:[{required:!0,message:"请输入连接url",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"用户名不能包含汉字"}]}}},computed:{sourceTypeList:function(){var e;return(null===(e=window.BS_CONFIG)||void 0===e?void 0:e.sourceTypeList)||[{label:"Mysql",code:"mysql",name:"com.mysql.jdbc.Driver",url:"jdbc:mysql://localhost:3306/db_name?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf-8&useSSL=false&useOldAliasMetadataBehavior=true"},{label:"ClickHouse",code:"clickhouse",name:"ru.yandex.clickhouse.ClickHouseDriver",url:"jdbc:clickhouse://localhost:8123/db_name"},{label:"PostgreSQL",code:"postgresql",name:"org.postgresql.Driver",url:"jdbc:postgresql://localhost:13308/db_name"},{label:"Oracle",code:"oracle",name:"oracle.jdbc.driver.OracleDriver",url:"jdbc:oracle:thin:@localhost:1521:orcl"},{label:"Sqlserver",code:"sqlserver",name:"com.microsoft.sqlserver.jdbc.SQLServerDriver",url:"jdbc:sqlserver://localhost:1433;databaseName=db_name"}]}},methods:{init:function(e){this.$refs.dataForm&&this.$refs.dataForm.clearValidate(),e&&e.id&&(this.dataForm=e)},validateSourceName:function(e,t,a){(0,n.r2)({id:this.dataForm.id,sourceName:this.dataForm.sourceName,moduleCode:this.appCode}).then((function(e){e?a(new Error("数据源名称已存在")):a()}))},sourceTypeChange:function(e){var t,a;!this.dataForm.id&&e&&(this.dataForm.driverClassName=null===(t=this.sourceTypeList.find((function(t){return t.code===e})))||void 0===t?void 0:t.name,this.$set(this.dataForm,"url",null===(a=this.sourceTypeList.find((function(t){return t.code===e})))||void 0===a?void 0:a.url))},textareaKeydown:function(){var e=window.event||arguments[0];if("Enter"===e.key||"Enter"===e.code||13===e.keyCode)return e.returnValue=!1,!1},sourceLinkCheck:function(){var e=this,t=0;this.$refs.dataForm.validate((function(a){if(!a)return t=1,!1;0===t&&e.sourceLinkTest(e.dataForm)}))},sourceLinkTest:function(e){var t=this;this.linkLoading=!0,(0,n.TU)(e).then((function(e){t.$message.success(e),t.linkLoading=!1})).catch((function(){t.linkLoading=!1}))},handleClose:function(){this.$refs.dataForm.resetFields(),this.dataForm={id:"",sourceName:"",sourceType:"mysql",driverClassName:"com.mysql.jdbc.Driver",username:"",password:"",url:"jdbc:mysql://localhost:3306/db_name?serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=utf-8&useSSL=false&useOldAliasMetadataBehavior=true",remark:""},this.setDatasourceVisible=!1},submitForm:function(){var e=this;this.$refs.dataForm.validate((function(t){if(!t)return!1;e.dataForm.id?(0,n.Vx)((0,c.Z)((0,c.Z)({},e.dataForm),{},{moduleCode:e.appCode,editable:e.appCode?1:0})).then((function(){e.$message.success("保存成功"),e.$emit("refreshTable"),e.handleClose()})):(0,n.IH)((0,c.Z)((0,c.Z)({},e.dataForm),{},{moduleCode:e.appCode,editable:e.appCode?1:0})).then((function(){e.$message.success("保存成功"),e.$emit("refreshTable"),e.handleClose()}))}))}}}),d=u,m=a(1001),p=(0,m.Z)(d,i,l,!1,null,"16bcf7cf",null),h=p.exports,f=a(65864),g=a(50361),b=a.n(g),v=a(5661),F={name:"DataSource",directives:{table:s.Z},components:{setDatasource:h,checkDatasource:f.Z},beforeRouteLeave:function(e,t,a){var r=document.querySelector(".big-screen-router-view-wrap");r&&(r.style.paddingLeft="0"),a()},beforeRouteEnter:function(e,t,a){var r=document.querySelector(".big-screen-router-view-wrap");r&&(r.style.paddingLeft="16px"),a()},mixins:[v.a],props:{isDialog:{type:Boolean,default:!1},sourceId:{type:String,default:null},appCode:{type:String,default:""}},data:function(){return{reasonList:[],testBtnLoading:[],loadingText:"",deling:!1,searchLoading:!1,dataSourceList:[],searchForm:{sourceName:"",sourceType:""},size:10,current:1,curRow:null}},created:function(){},mounted:function(){this.init();var e=document.querySelector(".big-screen-router-view-wrap");e&&(e.style.paddingLeft="16px")},methods:{getSourceId:function(){if(this.isDialog)return this.curRow?this.curRow.id:null},handleCurrentChange:function(e){this.curRow=e},sizeChangeHandle:function(e){this.size=e,this.getDataList()},currentChangeHandle:function(e){this.current=e,this.getDataList()},searchData:function(){this.searchLoading=!0,this.loadingText="正在查询数据...",this.current=1,this.getDataList()},init:function(){this.current=1,this.getDataList()},getDataList:function(){var e=this,t={current:this.current,size:this.size,sourceName:this.searchForm.sourceName,moduleCode:this.appCode};(0,n.h3)(t).then((function(t){e.totalCount=t.totalCount,e.dataSourceList=t.list,e.dataSourceList.forEach((function(t){t.status=0,e.$set(t,"loading",!1),t.id===e.sourceId&&(e.curRow=t)})),e.searchLoading=!1})).catch((function(){e.searchLoading=!1}))},addSource:function(){this.$refs.setDatasource.setDatasourceVisible=!0,this.$refs.setDatasource.title="新增数据源",this.$refs.setDatasource.init()},viewSource:function(e){(1!=e.editable||this.appCode)&&(this.$refs.setDatasource.setDatasourceVisible=!0,this.$refs.setDatasource.title="编辑数据源",this.$refs.setDatasource.init(b()(e)))},handleDelete:function(e){var t=this;(1!=e.editable||this.appCode)&&(e.loading=!0,(0,n.JG)(e.id).then((function(a){e.loading=!1,a.canDelete?t.$confirm("确定删除当前数据源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",customClass:"bs-el-message-box"}).then((function(){(0,n.$z)(e.id).then((function(e){t.$message.success("删除成功"),t.init()}))})):(t.reasonList=a.reasons,t.$refs.checkDatasource.checkDatasourceVisible=!0)})))},sourceLinkTest:function(e){var t=this;this.testBtnLoading.push(e.id),this.linkLoading=!0,(0,n.TU)(e).then((function(a){t.$message.success(a),t.linkLoading=!1,t.testBtnLoading.splice(t.testBtnLoading.indexOf(e.id),1)})).catch((function(){t.linkLoading=!1,t.testBtnLoading.splice(t.testBtnLoading.indexOf(e.id),1)}))}}},C=F,k=(0,m.Z)(C,r,o,!1,null,"2e88c0aa",null),x=k.exports;x.install=function(e){e.component(x.name,x)};var y=x},5661:function(e,t,a){a.d(t,{a:function(){return r}});var r={data:function(){return{current:1,size:10,totalPage:0,totalCount:0,prevText:"",nextText:"",sortForm:{sortFieldMap:{},sortFieldOrderList:[],columnCacheMap:{}},enableMultiFieldOrder:!1,sortFieldHeaderTipMap:{}}},watch:{"sortForm.sortFieldMap":{handler:function(e,t){for(var a in e){var r=e[a];r?"ascending"===r?this.$set(this.sortFieldHeaderTipMap,a,"点击降序"):"descending"===r?this.$set(this.sortFieldHeaderTipMap,a,"取消排序"):this.$set(this.sortFieldHeaderTipMap,a,"点击升序"):this.$set(this.sortFieldHeaderTipMap,a,"点击升序")}},deep:!0}},methods:{initSortField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t)for(var a in t){var r=t[a];this.$set(this.sortForm.sortFieldMap,a,r)}for(var o=0;o<e.length;o++){var s=e[o],n=this.sortForm.sortFieldMap[s];n||this.$set(this.sortForm.sortFieldMap,s,"")}this.sortForm.sortFieldOrderList=e},sortStyle:function(e){e.row;var t=e.column,a=(e.rowIndex,e.columnIndex,this.sortForm.sortFieldMap[t.property]);a&&(t.order=a),this.sortForm.columnCacheMap[t.property]=t},reSort:function(e){if(!this.enableMultiFieldOrder){for(var t in this.sortForm.columnCacheMap){var a=this.sortForm.columnCacheMap[t];a.order=""}for(var r in this.sortForm.sortFieldMap)this.sortForm.sortFieldMap[r]=""}this.$set(this.sortForm.sortFieldMap,e.prop,e.order),this.reSearch()},reSearch:function(){this.current=1,this.getDataList()},getDataList:function(){console.error("你应该重写getDataList方法")},sizeChangeHandle:function(e){this.size=e,this.current=1,this.getDataList()},currentChangeHandle:function(e){this.current=e,this.getDataList()},getSortForm:function(){return{sortFieldMap:this.sortForm.sortFieldMap,sortFieldOrderList:this.sortForm.sortFieldOrderList}}}}},16669:function(e,t,a){a.d(t,{$z:function(){return m},Ax:function(){return d},FD:function(){return f},IH:function(){return s},JG:function(){return n},TU:function(){return c},VZ:function(){return h},Vx:function(){return i},ZK:function(){return p},h3:function(){return u},r2:function(){return l}});a(34338);var r=a(91317),o=a.n(r),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/add",e,t)},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/deleteCheck/".concat(e),{},t)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/update",e,t)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/checkRepeat",e,t)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/testConnect",e,t)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.get("/datasource/page",e,t)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.get("/datasource/list",e,t)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.post("/datasource/delete/".concat(e),{},t)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.get("/datasource/getTableList/".concat(e),{},t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().prototype.$dataRoomAxios.get("/datasource/getViewList/".concat(e),{},t)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-1",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return o().prototype.$dataRoomAxios.get("/datasource/getFieldList/table/".concat(e,"/").concat(t),{},a)}},46761:function(e,t,a){var r=a(50124),o=a(48534),s=(a(96869),a(21057),a(68932),function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t,a,o){var s,n,i,l,c;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o;case 2:if(s=e.sent,n=s.componentInstance,i=a.value,n.height){e.next=7;break}throw new Error("使用v-table指令,el-table需设置height,例如: height='0'");case 7:if(l=i||100,n){e.next=10;break}return e.abrupt("return");case 10:c=window.innerHeight-t.getBoundingClientRect().top-l,c+=32,n.layout.setHeight(c),n.doLayout();case 14:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()),n=function(e){var t=null;return function(){t||(t=setTimeout((function(){e(),t=null}),500))}};t.Z={bind:function(e,t,a){e.resizeListener=(0,o.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s(e,t,a);case 2:case"end":return r.stop()}}),o)}))),window.addEventListener("resize",n(e.resizeListener))},inserted:function(e,t,a){return(0,o.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s(e,t,a);case 2:case"end":return r.stop()}}),o)})))()},componentUpdated:function(e,t,a){return(0,o.Z)((0,r.Z)().mark((function o(){return(0,r.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,setTimeout((function(){s(e,t,a)}),500);case 2:case"end":return r.stop()}}),o)})))()},unbind:function(e){window.removeEventListener("resize",n(e.resizeListener))}}}}]);